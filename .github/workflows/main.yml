name: Deploy

on:
  workflow_dispatch: # enables manual deploy
  push:
    branches: [ dev ]
    paths-ignore:
      - 'doc/**'      # Ignore all files and subdirectories under "doc/"
      - 'docs/**'     # Ignore all files and subdirectories under "docs/"
  #pull_request:
  #  branches: [ dev ]

jobs:
  build:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout
        uses: actions/checkout@v2
      # - name: Run Tests ðŸ§ª
      #   run: npm test
      - name: Deploy ðŸš€
        uses: akhileshns/heroku-deploy@v3.12.14 
        with:
          GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
          BRANCH: master # The branch the action should deploy to.
          FOLDER: build # The folder the action should deploy.
          CLEAN: true # Automatically remove deleted files from the deploy branch
